(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1056:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var r=t(5155);t(5141);var n=t(2669);(0,t(8778).M1)(n.createRoot);var s=t(2115),c=t(4147),o=t.n(c),l=t(8489),i=t.n(l);t(347);var d=t(4768),u=t(2065);function m(e){let{children:a}=e,[t,n]=(0,s.useState)((0,u.d)());return(0,s.useEffect)(()=>{n((0,d.Z)());let e=e=>{e.origin===window.location.origin&&"config:update"===e.data.type&&(console.log("update config"),n((0,d.Z)()))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),(0,r.jsx)("html",{lang:"zh-CN",style:{height:"100%",userSelect:"none",fontSize:t.app_scale+"em"},children:(0,r.jsx)("body",{className:"".concat(o().variable," ").concat(i().variable," antialiased h-full"),children:a})})}},2065:(e,a,t)=>{"use strict";t.d(a,{d:()=>s});var r=t(8867);let n={app_scale:1,auto_collapse_when_launch:!1,auto_expand_when_enter_battlefield:!1,auto_collapse_when_leave_battlefield:!1,hide_situation_copy_btn:!1,badboy_threshold:2e4},s=e=>(e||(e={}),(0,r.gc)(n,e||{}))},2793:(e,a,t)=>{"use strict";t.d(a,{D5:()=>r,DZ:()=>c,U5:()=>i,c3:()=>n,om:()=>s,xN:()=>o});let r={githubRepo:"https://github.com/InfSein/frontline-overlay",changelogDoc:"https://infsein.github.io/frontline-overlay/changelog"};var n=function(e){return e.maelstrom="maelstrom",e.twinadder="twinadder",e.immoflame="immoflame",e}({}),s=function(e){return e.secure="secure",e.seize="seize",e.shatter="shatter",e.naadam="naadam",e}({}),c=function(e){return e.hiddengorge="hiddengorge",e}({}),o=function(e){return e.palaistra="palaistra",e.cloudnine="cloudnine",e.volcanic="volcanic",e.castletown="castletown",e.redsands="redsands",e}({});let l={frontline:{secure:1273,seize:431,shatter:554,naadam:888},rivalWings:{hiddengorge:791},crystalConflict:{palaistra:[1032,1058],cloudnine:[1034,1060],volcanic:[1033,1059],castletown:[1116,1117],redsands:[1138,1139]}},i=new Map([[l.frontline.secure,"secure"],[l.frontline.seize,"seize"],[l.frontline.shatter,"shatter"],[l.frontline.naadam,"naadam"],[l.rivalWings.hiddengorge,"hiddengorge"],...Object.entries(l.crystalConflict).flatMap(e=>{let[a,t]=e;return t.map(e=>[e,o[a]])})])},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_aff16b",variable:"__variable_aff16b"}},4768:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s,q:()=>c});let r="APP_CONFIG";var n=t(2065);let s=()=>{try{let e=localStorage.getItem(r);if(e){let a=JSON.parse(e);return(0,n.d)(a)}}catch(e){}return(0,n.d)()},c=e=>{let a=JSON.stringify(e);localStorage.setItem(r,a)}},5141:()=>{},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_f6b586",variable:"__variable_f6b586"}},8867:(e,a,t)=>{"use strict";t.d(a,{A4:()=>n,DB:()=>i,Ef:()=>g,Ey:()=>l,Hh:()=>_,SY:()=>w,Tv:()=>d,W4:()=>f,Yj:()=>c,_5:()=>m,_E:()=>u,gc:()=>s,lW:()=>o,n8:()=>p,wR:()=>b,xq:()=>h});var r=t(2793);let n=e=>{try{return JSON.parse(JSON.stringify(e))}catch(a){return console.warn("Deep copy failed due to",a,"\norigin:",e),e}},s=(e,a)=>{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&"__proto__"!==t&&"constructor"!==t&&("object"!=typeof e[t]||Array.isArray(e[t])||null===e[t]?a[t]=void 0!==a[t]?a[t]:e[t]:(Object.prototype.hasOwnProperty.call(a,t)||(a[t]={}),a[t]=s(e[t],a[t])));return a},c=async()=>{var e,a;let t=(null==(a=document)||null==(e=a.location)?void 0:e.origin)+document.location.pathname+"version.json";t+="?t=".concat(new Date().getTime());let r=await fetch(t).then(e=>e.json());return{needUpdate:"1.9.0"!==r.app,latestVersion:r.app}},o=e=>{let a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},l=e=>{let a=new Date(e),t=e=>e.toString().padStart(2,"0"),r=a.getFullYear(),n=t(a.getMonth()+1),s=t(a.getDate()),c=t(a.getHours()),o=t(a.getMinutes()),l=t(a.getSeconds());return"".concat(r,"-").concat(n,"-").concat(s," ").concat(c,":").concat(o,":").concat(l)},i=e=>{switch(e){case r.c3.maelstrom:return"黑涡团";case r.c3.twinadder:return"双蛇党";case r.c3.immoflame:return"恒辉队"}},d=e=>{switch(e){case r.c3.maelstrom:return"#942110";case r.c3.twinadder:return"#9F9E44";case r.c3.immoflame:return"#285FB7"}},u=e=>"./image/".concat(e,".png"),m=e=>{let a="",t="";switch(e){case 19:a="骑士",t="paladin";break;case 20:a="武僧",t="monk";break;case 21:a="战士",t="warrior";break;case 22:a="龙骑士",t="dragoon";break;case 23:a="吟游诗人",t="bard";break;case 24:a="白魔法师",t="whitemage";break;case 25:a="黑魔法师",t="blackmage";break;case 27:a="召唤师",t="summoner";break;case 28:a="学者",t="scholar";break;case 30:a="忍者",t="ninja";break;case 31:a="机工士",t="machinist";break;case 32:a="暗黑骑士",t="darkknight";break;case 33:a="占星术士",t="astrologian";break;case 34:a="武士",t="samurai";break;case 35:a="赤魔法师",t="redmage";break;case 37:a="绝枪战士",t="gunbreaker";break;case 38:a="舞者",t="dancer";break;case 39:a="钐镰客",t="reaper";break;case 40:a="贤者",t="sage";break;case 41:a="蝰蛇剑士",t="viper";break;case 42:a="绘灵法师",t="pictomancer";break;default:a="未知",t="none"}return{job_name:a,job_icon:t}},g=e=>{switch(e){case r.om.secure:return["阵地","周边遗迹群","阵地战"];case r.om.seize:return["尘封","尘封秘岩","争夺战"];case r.om.shatter:return["碎冰","荣誉野","碎冰战"];case r.om.naadam:return["草原","昂萨哈凯尔","竞争战"];case r.DZ.hiddengorge:return["隐塞","隐塞","机动战"];case r.xN.palaistra:return["学校","角力学校","水晶冲突"];case r.xN.cloudnine:return["九霄","九霄云上","水晶冲突"];case r.xN.volcanic:return["火山","火山之心","水晶冲突"];case r.xN.castletown:return["大殿","机关大殿","水晶冲突"];case r.xN.redsands:return["沙漠","赤土红沙","水晶冲突"]}},h=e=>{switch(e){case r.om.shatter:case r.xN.redsands:return"black";default:return}},p=e=>{switch(e){case r.om.secure:return"#776154";case r.om.seize:return"#44756A";case r.om.shatter:return"#F6F9F6";case r.om.naadam:return"#616D22";case r.DZ.hiddengorge:return"#946141";case r.xN.palaistra:return"#1E3743";case r.xN.cloudnine:return"#56849B";case r.xN.volcanic:return"#976E5A";case r.xN.castletown:return"#211B19";case r.xN.redsands:return"#EAC38C"}},b=e=>{switch(e){case"1st":return"#FFD700";case"2nd":return"#C0C0C0";case"3rd":return"#CD7F32";case"win":return"#4CAF50";case"lose":return"#F44336";default:return"#FFFFFF"}},f=e=>"./image/".concat(e,".webp"),_=e=>{var a;return null!=(a=[0,2,4,6,10,12,14,18,20,22][e])?a:0},w=e=>{let a,t=!1,r=0,n=0;return[8,10,12,14,16,18,20,22].forEach(c=>{let o=e[c],l=e[c+1];if("0"===o)return;let{dodgeOrMiss:i,damaged:d,healed:u}=function(e){let a=parseInt(e||"0",16);return{dodgeOrMiss:(15&a)==1,damaged:(15&a)==3,healed:(15&a)==4,damageBlocked:(15&a)==5,damageParried:(15&a)==6,instantDead:(255&a)==51}}(o);!i&&(t=!0,d&&(a?"heal"===a&&(a="both"):a="damage",r+=s(l)),u&&(a?"damage"===a&&(a="both"):a="heal",n+=s(l)))}),null!=a||(a="damage"),{hit:t,damageType:a,damage:r,heal:n};function s(e){let a=(e||"").padStart(8,"0");if("4"!==a[4])return parseInt(a.slice(0,4),16);{let e=a.slice(0,2),t=a.slice(2,4),r=a.slice(6,8),n=parseInt(t,16),s=parseInt(r,16);return parseInt(r+e+((n-s+256)%256).toString(16).padStart(2,"0").toUpperCase(),16)}}}},8954:(e,a,t)=>{Promise.resolve().then(t.bind(t,1056))}},e=>{e.O(0,[268,896,778,441,964,358],()=>e(e.s=8954)),_N_E=e.O()}]);