(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{2065:(e,t,a)=>{"use strict";a.d(t,{d:()=>s});var n=a(8867);let r={auto_collapse_when_launch:!1,hide_situation_copy_btn:!1},s=e=>(e||(e={}),(0,n.gc)(r,e||{}))},2202:(e,t,a)=>{Promise.resolve().then(a.bind(a,9635))},2793:(e,t,a)=>{"use strict";a.d(t,{c:()=>n,o:()=>r});var n=function(e){return e.maelstrom="maelstrom",e.twinadder="twinadder",e.immoflame="immoflame",e}({}),r=function(e){return e.secure="secure",e.seize="seize",e.shatter="shatter",e.naadam="naadam",e}({})},4768:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s,q:()=>c});let n="APP_CONFIG";var r=a(2065);let s=()=>{try{let e=localStorage.getItem(n);if(e){let t=JSON.parse(e);return(0,r.d)(t)}}catch(e){}return(0,r.d)()},c=e=>{let t=JSON.stringify(e);localStorage.setItem(n,t)}},8867:(e,t,a)=>{"use strict";a.d(t,{A4:()=>r,DB:()=>l,Ef:()=>u,Ey:()=>i,SY:()=>y,Tv:()=>d,W4:()=>h,Yj:()=>c,_E:()=>m,gc:()=>s,lW:()=>o,n8:()=>p});var n=a(2793);let r=e=>{try{return JSON.parse(JSON.stringify(e))}catch(t){return console.warn("Deep copy failed due to",t,"\norigin:",e),e}},s=(e,t)=>{for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&"__proto__"!==a&&"constructor"!==a&&("object"!=typeof e[a]||Array.isArray(e[a])||null===e[a]?t[a]=void 0!==t[a]?t[a]:e[a]:(Object.prototype.hasOwnProperty.call(t,a)||(t[a]={}),t[a]=s(e[a],t[a])));return t},c=async()=>{var e,t;let a=(null==(t=document)||null==(e=t.location)?void 0:e.origin)+document.location.pathname+"version.json";a+="?t=".concat(new Date().getTime());let n=await fetch(a).then(e=>e.json());return{needUpdate:"1.2.0"!==n.app,latestVersion:n.app}},o=e=>{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},i=e=>{let t=new Date(e),a=e=>e.toString().padStart(2,"0"),n=t.getFullYear(),r=a(t.getMonth()+1),s=a(t.getDate()),c=a(t.getHours()),o=a(t.getMinutes()),i=a(t.getSeconds());return"".concat(n,"-").concat(r,"-").concat(s," ").concat(c,":").concat(o,":").concat(i)},l=e=>{switch(e){case n.c.maelstrom:return"黑涡团";case n.c.twinadder:return"双蛇党";case n.c.immoflame:return"恒辉队"}},d=e=>{switch(e){case n.c.maelstrom:return"#942110";case n.c.twinadder:return"#9F9E44";case n.c.immoflame:return"#285FB7"}},m=e=>"./image/".concat(e,".png"),u=e=>{switch(e){case n.o.secure:return["阵地","周边遗迹群","阵地战"];case n.o.seize:return["尘封","尘封秘岩","争夺战"];case n.o.shatter:return["碎冰","荣誉野","碎冰战"];case n.o.naadam:return["草原","昂萨哈凯尔","竞争战"]}},p=e=>{switch(e){case n.o.secure:return"#942110";case n.o.seize:return"#9F9E44";case n.o.shatter:return"#285FB7";case n.o.naadam:return"#15803D";default:throw Error("Invalid remainder value")}},h=e=>"./image/".concat(e,".webp"),y=e=>{let t=!1,a=0;return[8,10,12,14,16,18,20,22].forEach(n=>{if(function(e){return(e||"").toString().endsWith("3")||"3D"===e||"4"===e}(e[n])){t=!0,a=function(e){let t=(e||"").padStart(8,"0");if("4"!==t[4])return parseInt(t.slice(0,4),16);{let e=t.slice(0,2),a=t.slice(2,4),n=t.slice(6,8),r=parseInt(a,16),s=parseInt(n,16);return parseInt(n+e+((r-s+256)%256).toString(16).padStart(2,"0").toUpperCase(),16)}}(e[n+1]);return}}),{hit:t,damage:a}}},9635:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(5155),r=a(2115),s=a(3435),c=a(3162),o=a(7875),i=a(5413),l=a(7774),d=a(5705),m=a(9657),u=a(1989),p=a(2340),h=a(2065),y=a(8867),g=a(4768);let x=[{key:"general",name:"通用",icon:"system-setting",items:[{key:"auto_collapse_when_launch",name:"启动时自动折叠",desc:["在悬浮窗初次加载时自动折叠悬浮窗。","这也包括刷新悬浮窗的场合。"],type:"switch"}]},{key:"situation",name:"战况",icon:"map-distance",items:[{key:"hide_situation_copy_btn",name:"隐藏复制点分按钮",desc:["如果你不需要战况选项卡中的复制点分按钮，可以打开此选项将其隐藏。"],type:"switch"}]}];function f(){let[e,t]=(0,r.useState)((0,h.d)()),[a,f]=(0,r.useState)({});(0,r.useEffect)(()=>{let e=(0,g.Z)();t((0,y.A4)(e)),f(Object.fromEntries(x.map(e=>[e.key,!1])))},[t]);let w=(e,a)=>{t(t=>({...t,[e]:a}))};return(0,n.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold flex items-center",children:["设置",(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsx)(l.$,{shape:"rectangle",size:"large",theme:"success",variant:"base",icon:(0,n.jsx)(u.A,{}),onClick:()=>{(0,g.q)(e),window.opener&&window.opener.postMessage({type:"config:update"},window.location.origin),window.close()},children:"保存"})})]}),(0,n.jsx)(d.c,{style:{marginTop:"0.25rem",marginBottom:"0.25rem"}}),x.map(t=>(0,n.jsx)(m.Z,{className:"shadow-sm rounded-2xl border border-gray-100",bordered:!0,headerBordered:!0,title:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(p.r,{name:t.icon}),(0,n.jsx)("span",{className:"font-semibold",children:t.name})]}),actions:(0,n.jsx)(l.$,{theme:"default",variant:"text",onClick:()=>{var e;return e=t.key,void f(t=>({...t,[e]:!t[e]}))},children:a[t.key]?(0,n.jsx)(p.r,{name:"chevron-down"}):(0,n.jsx)(p.r,{name:"chevron-up"})}),children:!a[t.key]&&(0,n.jsx)("div",{className:"divide-y divide-gray-100",children:t.items.map(t=>(0,n.jsxs)("div",{className:"flex items-center justify-between px-1 py-2 hover:bg-gray-50 transition-colors",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-base font-medium",children:t.name}),!!t.desc&&t.desc.map((e,t)=>"string"==typeof e?(0,n.jsx)("span",{className:"text-xs text-gray-500",children:e},t):(0,n.jsx)("span",{className:e.className,style:e.style,children:e.content},t))]}),(0,n.jsx)("div",{children:(t=>{switch(t.type){case"switch":return(0,n.jsx)(s.d,{value:e[t.key],onChange:e=>w(t.key,e)});case"string":return(0,n.jsx)(c.pd,{value:e[t.key],onChange:e=>w(t.key,e),className:"w-60"});case"number":return(0,n.jsx)(o.Y,{value:e[t.key],onChange:e=>w(t.key,e),min:0,className:"w-40"});case"select":return(0,n.jsx)(i.l,{value:e[t.key],onChange:e=>w(t.key,e),options:t.options,className:"w-48"});default:return null}})(t)})]},t.key))})},t.key))]})}}},e=>{e.O(0,[288,403,888,421,441,964,358],()=>e(e.s=2202)),_N_E=e.O()}]);